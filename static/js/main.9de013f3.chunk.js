(this["webpackJsonpanime-shows"]=this["webpackJsonpanime-shows"]||[]).push([[0],{11:function(e,t,a){},23:function(e,t,a){e.exports=a(34)},28:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),c=a.n(i),u=(a(28),a(11),a(3)),s=a(4),o=a(6),l=a(5),m=a(7),d=a(2);function p(e){var t=v();if(t)for(var a=0;a<t.length;a++)if(e===t[a])return!0;return!1}function v(){var e=window.localStorage.getItem("likedItemsIds"),t=JSON.parse(e);return null===e?[]:t}function b(e,t,a){return"https://api.jikan.moe/v3/search/anime?q="+e+"&limit="+t+"&page="+a}function h(e,t){return function(a){return a({type:"REQUESTINPROCESS"}),fetch(e).then((function(e){return e.json()})).then((function(e){return a(function(e,t){return{type:t.type,payload:{items:e.results,query:t.query}}}(e,t))}))}}var y=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={input:""},n.handleSubmit=n.handleSubmit.bind(Object(m.a)(n)),n}return Object(s.a)(a,[{key:"updateInput",value:function(e){this.setState({input:e})}},{key:"handleSubmit",value:function(e){this.props.RequestSearchData(this.state.input),this.setState({input:""})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"bar"},r.a.createElement("nav",{className:"navbar navbar-expand-md fixed-top justify-content-center"},r.a.createElement("div",{className:"search-box"},r.a.createElement("input",{onChange:function(t){return e.updateInput(t.target.value)},className:"nav-input",type:"text",value:this.state.input}),r.a.createElement("button",{className:"nav-button",type:"submit",onClick:this.handleSubmit},"Go"))))}}]),a}(r.a.Component),f=Object(d.b)(null,{RequestSearchData:function(e){var t={type:"SEARCHDATA",query:e};return h(b(e,12,1),t)}})(y),O=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={isItemLiked:p(n.props.item.mal_id)},n.handleClick=n.handleClick.bind(Object(m.a)(n)),n}return Object(s.a)(a,[{key:"handleClick",value:function(){var e=this.props.item.mal_id;this.props.addLikeItem(e),this.setState({isItemLiked:!this.state.isItemLiked})}},{key:"render",value:function(){var e=this.props.item,t=this.state.isItemLiked?"card-btn-liked":"card-btn-overlay";return r.a.createElement("div",{className:"card",key:e.mal_id},r.a.createElement("div",{className:"card-img"},r.a.createElement("img",{className:"card-img-top",src:e.image_url,alt:""}),r.a.createElement("div",{className:t},r.a.createElement("button",{className:"btn",onClick:this.handleClick,disabled:this.state.isItemLiked},this.state.isItemLiked?"Liked":"Like"))),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",null,e.title)))}}]),a}(r.a.Component),j=Object(d.b)(null,{isItemInStore:p,addLikeItem:function(e){return function(e){var t=window.localStorage,a=v();a||(a=[]),a.push(e),t.setItem("likedItemsIds",JSON.stringify(a)),console.log("item :"+e+" added")}(e),{type:"ADDLIKE",payload:{likedItemsIdsArray:v()}}}})(O);var k=Object(d.b)((function(e){return{page:e.page,query:e.query}}),{RequestMoreData:function(e,t){var a={type:"MOREDATA",query:e};return h(b(e,12,t+1),a)}})((function(e){return r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-outline-warning",onClick:function(){return e.RequestMoreData(e.query,e.page)}},"Load More"))})),E=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.RequestInitialData(this.props.query)}},{key:"render",value:function(){var e=this.props.items.map((function(e){return r.a.createElement(j,{item:e,key:e.mal_id})}));return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},e),r.a.createElement(k,null))}}]),a}(r.a.Component);var I=Object(d.b)((function(e){return{items:e.items,query:e.query}}),{RequestInitialData:function(e){var t={type:"INITIALDATA",query:e};return h(b(e,12,1),t)}})(E),g=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(f,null),r.a.createElement(I,null))}}]),a}(r.a.Component);var q=function(){return r.a.createElement("div",null,r.a.createElement(g,null))},S=a(8),N=a(21),A=a(15),D=a(10),L=a(1),w={error:null,isLoaded:!0,items:[],query:"deat",page:1,likedItems:[]};function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALDATA":var a=t.payload,n=a.items,r=a.query;return Object(L.a)(Object(L.a)({},e),{},{items:n,query:r});case"SEARCHDATA":var i=t.payload,c=i.items,u=i.query;return Object(L.a)(Object(L.a)({},e),{},{items:Object(D.a)(c),query:u,page:1});case"MOREDATA":var s=t.payload.items;return Object(L.a)(Object(L.a)({},e),{},{items:[].concat(Object(D.a)(e.items),Object(D.a)(s)),page:e.page+1});case"REQUESTINPROCESS":return Object(L.a)(Object(L.a)({},e),{},{isLoaded:!1});case"ADDLIKE":var o=t.payload.likedItems;return Object(L.a)(Object(L.a)({},e),{},{likedItems:o});default:return e}}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=function(e){var t=[N.a],a=[S.a.apply(void 0,t)],n=Object(A.composeWithDevTools)({name:"Redux",realtime:!0,trace:!0,traceLimit:25});return n=A.composeWithDevTools.apply(void 0,a),Object(S.c)(C,e,n)}();c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(d.a,{store:R},r.a.createElement(q,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[23,1,2]]]);
//# sourceMappingURL=main.9de013f3.chunk.js.map